 <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Media Hub</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Lucide icons as inline SVG components
        const Plus = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
        );

        const Trash2 = () => (
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polyline points="3 6 5 6 21 6"></polyline>
                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                <line x1="10" y1="11" x2="10" y2="17"></line>
                <line x1="14" y1="11" x2="14" y2="17"></line>
            </svg>
        );

        const ExternalLink = () => (
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                <polyline points="15 3 21 3 21 9"></polyline>
                <line x1="10" y1="14" x2="21" y2="3"></line>
            </svg>
        );

        const Search = () => (
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <circle cx="11" cy="11" r="8"></circle>
                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
        );

        const Home = () => (
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                <polyline points="9 22 9 12 15 12 15 22"></polyline>
            </svg>
        );

        const Settings = () => (
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <circle cx="12" cy="12" r="3"></circle>
                <path d="M12 1v6m0 6v6m9-9h-6m-6 0H3"></path>
            </svg>
        );

        function MediaApp() {
            const [extensions, setExtensions] = useState([]);
            const [activeTab, setActiveTab] = useState('home');
            const [showAddExtension, setShowAddExtension] = useState(false);
            const [newExtension, setNewExtension] = useState({
                name: '',
                url: '',
                type: 'anime',
                icon: 'ðŸŽ¬'
            });
            const [searchQuery, setSearchQuery] = useState('');

            useEffect(() => {
                const saved = localStorage.getItem('mediaExtensions');
                if (saved) {
                    setExtensions(JSON.parse(saved));
                } else {
                    const defaults = [
                        { id: 1, name: 'AnimeSite Example', url: 'https://example-anime.com', type: 'anime', icon: 'ðŸŽ¬' },
                        { id: 2, name: 'MangaSite Example', url: 'https://example-manga.com', type: 'manga', icon: 'ðŸ“š' }
                    ];
                    setExtensions(defaults);
                }
            }, []);

            useEffect(() => {
                localStorage.setItem('mediaExtensions', JSON.stringify(extensions));
            }, [extensions]);

            const addExtension = () => {
                if (newExtension.name && newExtension.url) {
                    const ext = {
                        ...newExtension,
                        id: Date.now(),
                        url: newExtension.url.startsWith('http') ? newExtension.url : `https://${newExtension.url}`
                    };
                    setExtensions([...extensions, ext]);
                    setNewExtension({ name: '', url: '', type: 'anime', icon: 'ðŸŽ¬' });
                    setShowAddExtension(false);
                }
            };

            const deleteExtension = (id) => {
                setExtensions(extensions.filter(ext => ext.id !== id));
            };

            const openExtension = (url, search = '') => {
                const finalUrl = search ? `${url}/search?q=${encodeURIComponent(search)}` : url;
                window.open(finalUrl, '_blank');
            };

            const filteredExtensions = extensions.filter(ext =>
                ext.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
                ext.url.toLowerCase().includes(searchQuery.toLowerCase())
            );

            return (
                <div className="min-h-screen bg-gradient-to-br from-purple-900 via-purple-800 to-indigo-900 text-white">
                    <div className="bg-black bg-opacity-30 backdrop-blur-md border-b border-purple-500">
                        <div className="max-w-6xl mx-auto px-4 py-4">
                            <h1 className="text-3xl font-bold bg-gradient-to-r from-purple-300 to-pink-300 bg-clip-text text-transparent">
                                Custom Media Hub
                            </h1>
                            <p className="text-purple-200 text-sm mt-1">Add any website as an extension</p>
                        </div>
                    </div>

                    <div className="bg-black bg-opacity-20 backdrop-blur-sm border-b border-purple-500">
                        <div className="max-w-6xl mx-auto px-4">
                            <div className="flex gap-2">
                                <button
                                    onClick={() => setActiveTab('home')}
                                    className={`flex items-center gap-2 px-4 py-3 border-b-2 transition ${
                                        activeTab === 'home' 
                                            ? 'border-purple-400 text-white' 
                                            : 'border-transparent text-purple-300 hover:text-white'
                                    }`}
                                >
                                    <Home />
                                    Home
                                </button>
                                <button
                                    onClick={() => setActiveTab('extensions')}
                                    className={`flex items-center gap-2 px-4 py-3 border-b-2 transition ${
                                        activeTab === 'extensions' 
                                            ? 'border-purple-400 text-white' 
                                            : 'border-transparent text-purple-300 hover:text-white'
                                    }`}
                                >
                                    <Settings />
                                    Extensions
                                </button>
                            </div>
                        </div>
                    </div>

                    <div className="max-w-6xl mx-auto px-4 py-6">
                        {activeTab === 'home' && (
                            <div>
                                <div className="mb-6">
                                    <div className="relative">
                                        <div className="absolute left-4 top-1/2 transform -translate-y-1/2 text-purple-300">
                                            <Search />
                                        </div>
                                        <input
                                            type="text"
                                            placeholder="Search extensions or content..."
                                            value={searchQuery}
                                            onChange={(e) => setSearchQuery(e.target.value)}
                                            className="w-full pl-12 pr-4 py-3 bg-black bg-opacity-30 border border-purple-500 rounded-lg text-white placeholder-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-400"
                                        />
                                    </div>
                                </div>

                                {filteredExtensions.length > 0 ? (
                                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                                        {filteredExtensions.map(ext => (
                                            <div
                                                key={ext.id}
                                                className="bg-black bg-opacity-30 backdrop-blur-sm border border-purple-500 rounded-lg p-4 hover:bg-opacity-40 transition cursor-pointer"
                                                onClick={() => openExtension(ext.url, searchQuery)}
                                            >
                                                <div className="flex items-start justify-between mb-3">
                                                    <div className="flex items-center gap-3">
                                                        <span className="text-3xl">{ext.icon}</span>
                                                        <div>
                                                            <h3 className="font-semibold text-lg">{ext.name}</h3>
                                                            <span className="text-xs px-2 py-1 bg-purple-600 bg-opacity-50 rounded-full">
                                                                {ext.type}
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div className="text-sm text-purple-200 truncate mb-3">
                                                    {ext.url}
                                                </div>
                                                <div className="flex gap-2">
                                                    <button
                                                        onClick={(e) => {
                                                            e.stopPropagation();
                                                            openExtension(ext.url);
                                                        }}
                                                        className="flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg transition text-sm"
                                                    >
                                                        <ExternalLink />
                                                        Open
                                                    </button>
                                                    {searchQuery && (
                                                        <button
                                                            onClick={(e) => {
                                                                e.stopPropagation();
                                                                openExtension(ext.url, searchQuery);
                                                            }}
                                                            className="flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-pink-600 hover:bg-pink-700 rounded-lg transition text-sm"
                                                        >
                                                            <Search />
                                                            Search
                                                        </button>
                                                    )}
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                ) : (
                                    <div className="text-center py-12">
                                        <p className="text-purple-300 mb-4">No extensions found</p>
                                        <button
                                            onClick={() => setActiveTab('extensions')}
                                            className="px-6 py-3 bg-purple-600 hover:bg-purple-700 rounded-lg transition"
                                        >
                                            Add Your First Extension
                                        </button>
                                    </div>
                                )}
                            </div>
                        )}

                        {activeTab === 'extensions' && (
                            <div>
                                <div className="flex justify-between items-center mb-6">
                                    <h2 className="text-2xl font-bold">Manage Extensions</h2>
                                    <button
                                        onClick={() => setShowAddExtension(true)}
                                        className="flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg transition"
                                    >
                                        <Plus />
                                        Add Extension
                                    </button>
                                </div>

                                {showAddExtension && (
                                    <div className="bg-black bg-opacity-40 border border-purple-500 rounded-lg p-6 mb-6">
                                        <h3 className="text-xl font-semibold mb-4">Add New Extension</h3>
                                        <div className="space-y-4">
                                            <div>
                                                <label className="block text-sm mb-2">Extension Name</label>
                                                <input
                                                    type="text"
                                                    value={newExtension.name}
                                                    onChange={(e) => setNewExtension({...newExtension, name: e.target.value})}
                                                    placeholder="e.g., MyAnimeSource"
                                                    className="w-full px-4 py-2 bg-black bg-opacity-30 border border-purple-500 rounded-lg text-white placeholder-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-400"
                                                />
                                            </div>
                                            <div>
                                                <label className="block text-sm mb-2">Website URL</label>
                                                <input
                                                    type="text"
                                                    value={newExtension.url}
                                                    onChange={(e) => setNewExtension({...newExtension, url: e.target.value})}
                                                    placeholder="e.g., https://mysite.com"
                                                    className="w-full px-4 py-2 bg-black bg-opacity-30 border border-purple-500 rounded-lg text-white placeholder-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-400"
                                                />
                                            </div>
                                            <div>
                                                <label className="block text-sm mb-2">Type</label>
                                                <select
                                                    value={newExtension.type}
                                                    onChange={(e) => setNewExtension({...newExtension, type: e.target.value})}
                                                    className="w-full px-4 py-2 bg-black bg-opacity-30 border border-purple-500 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-400"
                                                >
                                                    <option value="anime">Anime</option>
                                                    <option value="manga">Manga</option>
                                                    <option value="movie">Movie</option>
                                                    <option value="tv">TV Show</option>
                                                    <option value="other">Other</option>
                                                </select>
                                            </div>
                                            <div>
                                                <label className="block text-sm mb-2">Icon (emoji)</label>
                                                <input
                                                    type="text"
                                                    value={newExtension.icon}
                                                    onChange={(e) => setNewExtension({...newExtension, icon: e.target.value})}
                                                    placeholder="ðŸŽ¬"
                                                    maxLength={2}
                                                    className="w-full px-4 py-2 bg-black bg-opacity-30 border border-purple-500 rounded-lg text-white placeholder-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-400"
                                                />
                                            </div>
                                            <div className="flex gap-3">
                                                <button
                                                    onClick={addExtension}
                                                    className="flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg transition"
                                                >
                                                    Add Extension
                                                </button>
                                                <button
                                                    onClick={() => setShowAddExtension(false)}
                                                    className="px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded-lg transition"
                                                >
                                                    Cancel
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                )}

                                <div className="space-y-3">
                                    {extensions.map(ext => (
                                        <div
                                            key={ext.id}
                                            className="bg-black bg-opacity-30 border border-purple-500 rounded-lg p-4 flex items-center justify-between"
                                        >
                                            <div className="flex items-center gap-3">
                                                <span className="text-2xl">{ext.icon}</span>
                                                <div>
                                                    <h3 className="font-semibold">{ext.name}</h3>
                                                    <p className="text-sm text-purple-200">{ext.url}</p>
                                                </div>
                                            </div>
                                            <div className="flex gap-2">
                                                <button
                                                    onClick={() => openExtension(ext.url)}
                                                    className="p-2 bg-purple-600 hover:bg-purple-700 rounded-lg transition"
                                                >
                                                    <ExternalLink />
                                                </button>
                                                <button
                                                    onClick={() => deleteExtension(ext.id)}
                                                    className="p-2 bg-red-600 hover:bg-red-700 rounded-lg transition"
                                                >
                                                    <Trash2 />
                                                </button>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        ReactDOM.render(<MediaApp />, document.getElementById('root'));
    </script>
</body>
</html>
